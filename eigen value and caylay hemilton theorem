import numpy as np
n = int(input("Enter size of square matrix: "))
A = []

for i in range(n):
    row = list(map(float, input(f"Row {i+1}: ").split()))
    A.append(row)

A = np.array(A)
print("Matrix A:")
print(A)
values, vectors = np.linalg.eig(A)
print("Eigenvalues:", np.round(values, 3))


rank = np.linalg.matrix_rank(vectors)

if rank == n:
    print("Matrix is Diagonalizable.")
else:
    print("\nMatrix is NOT Diagonalizable.")


p = np.poly(A)     



result = np.zeros((n, n))

for i in range(n+1):
    power = n - i
    result += p[i] * np.linalg.matrix_power(A, power)


if np.allclose(result, np.zeros((n, n))):
    print("Cayley-Hamilton Theorem Verified.")
else:
    print("Cayley-Hamilton Theorem NOT Verified.")
